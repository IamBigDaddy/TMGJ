<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>注册页面</title>
	<link rel="stylesheet" href="css/all.css">
	<link rel="stylesheet" href="css/register2.css">
</head>
<body>
	<div id="topB">
		<div id="top">
			<ul class="uu">
				<li><span>1</span> 设置用户名</li>
				<li id="one"><span>2</span> 填写账号信息</li>
				<li><span>3</span> 设置支付方式</li>
				<li><span>4</span> 注册成功</li>
			</ul>
		</div>
		<div id="boxB">
			<div id="box">
				<form action="php/reginster.php" method="get">
					<label for=""><b>用户名:</b> <input type="text" name="uname" id="uname"><span id="s1"></span></label><br/>
					<label for=""><b>邮箱:</b> <input type="text" name="umail" id="umail"><span id="s2"></span></label>
					<br/>
					<label for=""><b>密码:</b> <input type="text" name="upwd1" id="upwd1"><span id="s3"></span></label>
					<br/>
					<label for=""><b>确认密码:</b> <input type="text" id="upwd2"><span id="s4"></span></label>
					<br/>
					<label for=""><b>手机号:</b> <input type="text" name="unum" id="unum"><span id="s5"></span></label>
					<br/>
					<label for=""><input type="submit" value="注册" id="sub"></label>
				</form>
				<img src="img/tm.gif" alt="">
			</div>
		</div>	
		
	</div>
</body>
</html>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/public.js"></script>
<script src="js/register.js"></script>
<script>
	var oForm = document.querySelector("form")
 			var flagName = null
	 		uname.onblur=function(){	
		 		var regnam = /^\w{6,}$/i;
		 		var strnam = uname.value;
		 		if( !regnam.test(strnam) ){
		 			s1.innerHTML ="只能6位以上字母数字下划线组成"
		 			flagName = false
		 		}else{
		 			s1.innerHTML ="合法"
		 			flagName= true
		 		}
	 	}
	 		var flagMai = null
 		 	umail.onblur=function(){
 		 		var regmai = /^\w+@\w+(\.\w+)+$/
 		 		var strmai = umail.value
 		 		if( !regmai.test(strmai) ){
 		 			s2.innerHTML = "请填写正确邮箱"
 		 			flagMai= false
 		 		}else{
 		 			s2.innerHTML ="合法"
 		 			flagMai= true
 		 		}
 		 	}
 		 	var flagP1 = null 
 		 	upwd1.onblur=function(){
 		 		var regpw = /.{6,10}/
 		 		var strp1 = upwd1.value
 		 		if( !regpw.test(strp1) ){
 		 			s3.innerHTML="输入6-10位密码"
 		 			flagP1= false
 		 		}else{
 		 			s3.innerHTML ="合法"
 		 			flagP1= true
 		 		}
 		 	}
 		 	var flasgP2 =null
 		 	upwd2.onblur=function(){
 		 		var strp1 = upwd1.value
 		 		var strp2 = upwd2.value
 		 		if( strp1!=strp2 ){
 		 			s4.innerHTML="两次密码不一致"
 		 			flasgP2 =false
 		 		}else{
 		 			s4.innerHTML ="合法"
 		 			flasgP2 =true
 		 		}
 		 	}
 		 	var flagNum=null
 		 	unum.onblur=function(){
 		 		var regnum = /^1(3|5|8)\d{9}$/
 		 		var strnum = unum.value
 		 		if( !regnum.test(strnum) ){
 		 			s5.innerHTML="输入13 18 15 开头的手机号"
 		 			flagNum= false
 		 		}else{
 		 			s5.innerHTML ="合法"
 		 			flagNum =true
 		 		}

 		 	}
 		oForm.onsubmit=function(){ 	
 			if( flagNum&&flagMai&&flagP1&&flasgP2&&flagName ){
 				return true
 			}else{
 				return false
 			}
 		}
</script>